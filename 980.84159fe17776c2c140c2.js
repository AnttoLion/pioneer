(()=>{var e,t,r={69971:(e,t,r)=>{"use strict";var o=r(52731),n=r(93886),s=r(589),a=r(56130),i=r(43297),p=r(64651),c=r(76619),d=r(81176),y=r(62197),l=r.n(y);const u=e=>void 0!==e;var f=r(87440),g=r(76635),h=r(77984),m=r(68730);const b=(e,t,r=[],o=e)=>"object"!=typeof e&&"function"!=typeof e?e:new Proxy(e,{get(n,s){const a=[...r,s],i=t.get({target:o,path:a,value:e,property:s});return t.default&&void 0===i?t.default({target:o,path:a,value:e,property:s}):b(i,t,a,o)}}),v=(e,t,r)=>{const o=[],n=s(e);for(;o.length;){const e=o.pop();if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=s(e[t]);else for(const t of Object.keys(e))e[t]=s(e[t])}return n;function s(e){if(!(0,g.isFunction)(e)){if("object"!=typeof e||null===e)return e;if(T(e))return P(e);if(e instanceof l())return{kind:"BN",value:e.toArray()};if("SubmittableExtrinsicProxy"===e.kind)return{kind:e.kind,txId:e.txId};if(N(e))return O(e,{},["signPayload"],"signer",t,r);{const t=(0,g.isArray)(e)?[...e]:x(e);return o.push(t),t}}}},x=e=>{try{const t=Object.getOwnPropertyNames(e);if(t.length>Object.keys(e).length)return Object.fromEntries(t.map((t=>[t,e[t]])))}catch(e){}return{...e}},j=(e,t,r,o)=>{const n=[],s=a(e);for(;n.length;){const e=n.pop();if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=a(e[t]);else for(const t of Object.keys(e))"value"in(Object.getOwnPropertyDescriptor(e,t)??{})&&(e[t]=a(e[t]))}return s;function a(e){if("object"!=typeof e||null===e)return e;if("kind"in e)switch(e.kind){case"codec":return"properties"in e?$(e):E(e);case"BN":return new(l())(e.value);case"SubmittableExtrinsicProxy":return o?.[e.txId];case"proxy":return w(e.json,e.methods,e.proxyId,t,r)}return n.push(e),e}},O=(e,t={},r=[],o="",n,s)=>{if(!n||!s)throw Error("Serializing proxies from the Web Worker is not supported yet");const a=(0,g.uniqueId)(`${o}.`);return n.pipe((0,p.h)((e=>e.proxyId===a))).subscribe((async({method:t,payload:r})=>{try{const o=await e[t](...r);s({messageType:"proxy",proxyId:a,payload:{result:o}})}catch(e){const t=e.message??String(e);s({messageType:"proxy",proxyId:a,payload:{error:t}})}})),{kind:"proxy",proxyId:a,json:t,methods:r}},w=(e,t,r,o,n)=>{if(!o||!n)throw Error("Deserializing object is currently only supported from the Web Worker");return new Proxy(e,{get:(e,s)=>s in e?e[s]:t.includes(s)?async(...e)=>{n({messageType:"proxy",proxyId:r,method:s,payload:e});const{payload:t}=await(0,m.z)(o.pipe((0,p.h)((e=>e.proxyId===r))));return t.error?Promise.reject(t.error):t.result}:void 0})},P=e=>{const t=e.toRawType();t||((e,...t)=>{console.error(e,...t)})("Unrecognized codec object",e,e.toHuman());const r={kind:"codec",type:t,value:e.toJSON()};if(S(e)){const{data:t,index:o,meta:n,method:s,section:a,typeDef:i}=e.event,p={data:t.map((e=>{const t=P(e);if(k(e)){const r=v(I(e));return{...t,properties:{...t.value,error:r}}}return t})),index:o.toJSON(),meta:n.toJSON(),method:s,section:a,typeDef:i};return{...r,properties:{event:p}}}const o=Object.getOwnPropertyNames(Object.getPrototypeOf(e)).map((t=>[t,e[t]])).filter((([,e])=>!(0,g.isFunction)(e)));return o.length>0?{...r,properties:v(Object.fromEntries(o))}:r},k=e=>{const t=e;return t.type&&["isBadOrigin","isModule"].every((e=>"boolean"==typeof t[e]))},I=e=>{const t=`as${e.type}`,r=t in e&&e[t];return r&&!r.isEmpty?e.registry.findMetaError(r.toU8a()):{section:"Error",name:e.type,docs:[`${(0,g.startCase)(e.type)} error`]}},T=e=>"object"==typeof e?.registry&&e.registry instanceof f.P,S=e=>"event"in e,E=e=>(0,o.Z$)(e.type,e.value),$=e=>b(E(e),{get:({value:e,property:t})=>M(e[t],e),default:({path:t})=>j((0,g.get)(e.properties,t))}),M=(e,t)=>(0,g.isFunction)(e)?e.bind(t):e,N=e=>"function"==typeof e.signPayload&&"function"==typeof e.signRaw,_=(e,t,r,o)=>(0,g.invoke)(t[e],[r.module,...r.path],...r.payload).subscribe((t=>{o({messageType:e,callId:r.callId,payload:t})}));var A=r(47009),C=r(35120);const B={},U=new a.X(void 0),z=e=>self.postMessage({...e,payload:v(e.payload)}),D=(0,i.R)(self,"message"),F=D.pipe((0,p.h)((({data:e})=>"proxy"===e.messageType)),(e=>e.pipe((0,h.U)((({data:e})=>({...e,payload:j(e.payload)}))))),(0,c.B)());D.subscribe((({data:e})=>{const t=j(e.payload,F,z,B),r={...e,payload:t};if("init"===r.messageType){const e=new n.U(r.payload);s.P.create({provider:e}).pipe((0,d.P)()).subscribe((e=>{z({messageType:"init",payload:{consts:e.consts}}),z({messageType:"isConnected",payload:!0}),e.on("connected",(()=>self.postMessage({messageType:"isConnected",payload:!0}))),e.on("disconnected",(()=>self.postMessage({messageType:"isConnected",payload:!1}))),U.next(e)}))}else U.pipe((o=u,e=>e.pipe((0,p.h)(o),(0,d.P)()))).subscribe((e=>{switch(r.messageType){case"derive":return _("derive",e,r,z);case"query":return _("query",e,r,z);case"rpc":return _("rpc",e,r,z);case"tx":return((e,t,r)=>{if("transaction"===t.method){const r=e.tx[t.module],o=r[t.txKey];if("function"!=typeof o)throw Error(`api.${t.module}.${t.txKey} is not a function`);B[t.txId]=o.apply(r,t.payload)}else{const e=B[t.txId];e[t.method.key].apply(e,t.payload).pipe((0,h.U)((e=>({result:e}))),(0,A.K)((e=>(0,C.of)({error:e})))).subscribe((e=>r({messageType:"tx",txId:t.txId,callId:t.method.id,payload:e})))}})(e,r,z)}}));var o}))},69314:()=>{},33196:()=>{}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=r,n.x=()=>{var e=n.O(void 0,[487,906],(()=>n(69971)));return n.O(e)},e=[],n.O=(t,r,o,s)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,o,s]=e[d],i=!0,p=0;p<r.length;p++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](r[p])))?r.splice(p--,1):(i=!1,s<a&&(a=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+"."+{487:"ab506686d3237e9a0a77",906:"a8b1c472a4237e3e06a3"}[e]+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={980:1};n.f.i=(t,r)=>{e[t]||importScripts(n.p+n.u(t))};var t=this.webpackChunk_joystream_pioneer=this.webpackChunk_joystream_pioneer||[],r=t.push.bind(t);t.push=t=>{var[o,s,a]=t;for(var i in s)n.o(s,i)&&(n.m[i]=s[i]);for(a&&a(n);o.length;)e[o.pop()]=1;r(t)}})(),t=n.x,n.x=()=>Promise.all([n.e(487),n.e(906)]).then(t),n.x()})();
//# sourceMappingURL=980.84159fe17776c2c140c2.js.map